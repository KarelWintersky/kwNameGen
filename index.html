<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Names generator: prototype</title>
    <style type="text/css">

    </style>
    <script type="text/javascript" src="scripts/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="scripts/engine.js"></script>
    <script type="text/javascript" src="scripts/dictionaries.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            var dictionary;

            // gender handler
            var gender = "male";
            $("#select-gender").on('change', function(){
                gender = $(this).val();
            });

            // generate Languages Optionslist
            languages = sortAssocObject(languages, function(a, b) { return (a[1] < b[1] ? -1 : (a[1] > b[1] ? 1 : 0)); });
            Object.keys(languages).map(function(objKey, index) {
                $("#select-language").append( $('<option>', {
                    value : objKey,
                    text  : languages[objKey],
                }) );
            });

            // bind languages selector
            $("#select-language").on('change', function(){
                let dict = $(this).val();
                let text = $(this).find('option:selected').text();
                let actor_generate_name__state = (dict == "null") ? true : false;
                $("#actor-generate-name").prop('disabled', actor_generate_name__state);
                $("#dictionary").html( !actor_generate_name__state ? text : '&nbsp;' );
                dictionary = null;
                dictionary = eval(dict);
            });

            // bindings
            $("#actor-generate-name").on('click', function(){
                let name = dictionary.getRandomName( gender );
                let output = dictionary.printName( name );

                $("#result").prepend( output + "<br>");
            });

            $("#actor-result-reset").on('click', function(){
                $("#result").html('');
            });
        });
    </script>
    <style type="text/css">
        #result { border: 0; }
    </style>
</head>
<body>
Language: <select id="select-language"><option value="null"> >> Выбери язык << </option></select>
<span style="width: 3rem; display: inline-block"></span>

Gender:<select id="select-gender">
    <option value="male">Male</option>
    <option value="female">Female</option>
</select>
<span style="width: 2rem; display: inline-block">&nbsp;</span>

<button id="actor-generate-name" disabled>Generate name</button>
<span style="width: 1rem; display: inline-block">&nbsp;</span>
<button id="actor-result-reset">Reset</button>

<!-- -->

<fieldset>
    <legend id="dictionary">&nbsp;</legend>
    <fieldset id="result"></fieldset>
</fieldset>

</body>
</html>